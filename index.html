<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TailorLink🔗 – Book a Tailor Near You</title>

    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

    <style>
      /* Basic resets */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :focus-visible {
        outline: 2px solid #17911d;
        outline-offset: 2px;
      }

      body {
        font-family: "Inter", "Segoe UI", sans-serif;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        color: #2c3e50;
        line-height: 1.6;
        overflow-x: hidden;
      }

      /* Animations */
      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes slideInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      /* Navbar */
      .navbar {
        background: rgba(23, 145, 29, 0.95);
        backdrop-filter: blur(10px);
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        animation: slideInUp 0.8s ease-out;
      }

      .logo {
        font-size: 1.5rem;
        font-weight: 700;
        color: white;
      }

      .logo-main {
        text-decoration: none;
        color: #fff;
        display: flex;
        align-items: center;
      }

      /* Corrected navigation structure for both desktop and mobile */
      .main-nav {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      /* This is the main container for the nav links, toggled on mobile */
      .nav-links-container {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      /* These are the individual link sections inside the container */
      .nav-links {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .nav-links a,
      .nav-links button {
        color: white;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        position: relative;
        padding: 0.5rem 1rem;
        border-radius: 25px;
        font-size: 15px;
        background: transparent;
        border: none;
        cursor: pointer;
        white-space: nowrap;
      }

      .nav-home {
        background: rgba(255, 255, 255, 0.1);
        text-decoration: underline;
      }

      .nav-links a:hover,
      .nav-links button:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateY(-2px);
      }

      .welcome-user {
        font-weight: 600;
        margin-right: 1rem;
        background-color: #fff;
        padding: 0.5rem 1rem;
        border-radius: 25px;
        transition: all 0.3s ease;
        color: #17911d;
        white-space: nowrap;
      }

      .btn {
        display: inline-block;
        padding: 0.7rem 1.5rem;
        background: linear-gradient(45deg, #17911d, #27ae60);
        color: white;
        text-decoration: none;
        border-radius: 25px;
        font-weight: 500;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(23, 145, 29, 0.3);
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(23, 145, 29, 0.4);
        color: #17911d;
        background: #fff;
      }

      .btn-small {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
      }

      #authenticated-nav {
        display: none; /* Hidden by default, shown when user is authenticated */
      }

      /* Hamburger menu button styles */
      .hamburger {
        display: none; /* Hidden by default on desktop */
        flex-direction: column;
        gap: 5px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 8px;
      }

      .hamburger span {
        display: block;
        width: 25px;
        height: 3px;
        background: white;
        border-radius: 2px;
        transition: all 0.3s ease;
      }

      .hamburger span:nth-child(2) {
        width: 20px;
      }

      .hamburger span:nth-child(3) {
        width: 15px;
      }

      /* Media query for mobile screens (1200px and below) */
      @media (max-width: 1200px) {
        .hamburger {
          display: flex !important; /* Show the hamburger on mobile */
          position: relative;
          z-index: 1001;
          background: rgba(23, 145, 29, 0.95);
          border-radius: 50%;
          padding: 10px;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
          transition: background 0.3s ease;
        }

        .hamburger:hover {
          background: rgba(23, 145, 29, 0.85);
        }

        /* Hide the nav links container by default on mobile */
        .nav-links-container {
          display: none;
          flex-direction: column;
          align-items: center;
          position: absolute;
          width: 100%;
          top: 70px;
          left: 0;
          padding: 20px 0;
          background: rgba(23, 145, 29, 0.95);
          backdrop-filter: blur(10px);
          z-index: 900;
          gap: 1.5rem;
        }

        /* When the .show class is added by JS, display the mobile menu */
        .nav-links-container.show {
          display: flex;
        }

        /* Align the content within the mobile menu */
        .nav-links {
          flex-direction: column;
          width: 100%;
          align-items: center;
          gap: 1rem;
        }

        .nav-links a,
        .nav-links button,
        .welcome-user {
          width: 90%;
          text-align: center;
          padding: 0.7rem 0;
          font-size: 1rem;
          border-radius: 25px;
          background: rgba(255, 255, 255, 0.1);
        }
      }

      /* Media query for desktop screens (1201px and up) */
      @media (min-width: 1201px) {
        .hamburger {
          display: none; /* Ensure hamburger is hidden on desktop */
        }

        /* Ensure the nav links container is always visible as a flex row on desktop */
        .nav-links-container {
          display: flex !important;
          flex-direction: row;
        }
      }

      /* Hero Section */
      .hero {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 8rem 2rem 4rem;
        min-height: 80vh;
        position: relative;
        overflow: hidden;
        background: url("./img/two-african-dressmaker-woman-sews-clothes-sewing-machine-tailor-office-black-seamstress-girls.jpg")
          no-repeat center center / cover;
        color: white;
        text-align: center;
      }
      .hero::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.4);
        z-index: 1;
      }
      .hero-text {
        flex: none;
        max-width: 700px;
        margin-bottom: 2rem;
        animation: slideInLeft 1s ease-out;
        position: relative;
        z-index: 2;
        color: white;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(4px);
        border-radius: 15px;
        padding: 2% 2rem;
      }
      .hero-text h1 {
        font-size: 3.5rem;
        margin-bottom: 1rem;
        font-weight: 700;
        color: #fff;
        line-height: 1.2;
      }
      .hero-text p {
        margin-bottom: 2rem;
        font-size: 1.2rem;
        text-wrap: balance;
        opacity: 1;
        color: rgba(255, 255, 255, 0.9);
      }
      .cta-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
      }
      @media (max-width: 768px) {
        .hero {
          padding: 6rem 1rem 3rem;
          min-height: 70vh;
        }
        .hero-text h1 {
          font-size: 2.5rem;
        }
        .hero-text p {
          font-size: 1rem;
        }
        .navbar {
          padding: 1rem;
        }
        .cta-buttons {
          flex-direction: column;
          align-items: center;
        }
      }

      @media (max-width: 768px) {
        .hero {
          padding: 6rem 1rem 3rem;
          min-height: 70vh;
        }
        .hero-text h1 {
          font-size: 2.5rem;
        }
        .hero-text p {
          font-size: 1rem;
        }
        .navbar {
          padding: 1rem;
        }
        .testimonial-card {
          padding: 2rem 1rem;
        }
        .cta-buttons {
          flex-direction: column;
          align-items: center;
        }
      }

      /* Stats Section */
      .stats-section {
        padding: 4rem 2rem;
        background: white;
        animation: slideInUp 0.8s ease-out;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
      }

      .stat-card {
        text-align: center;
        padding: 2rem;
        border-radius: 15px;
        background: linear-gradient(45deg, #27ae60 0%, #5cf557 100%);
        color: white;
        transform: translateY(20px);
        opacity: 0;
        animation: slideInUp 0.8s ease-out forwards;
        animation-delay: var(--delay);
      }

      .stat-number {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .stat-label {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      /* Features Section */
      .features-section {
        padding: 4rem 2rem;
        background: linear-gradient(135deg, #e3e3e3 0%, #efefef 100%);
      }

      .features-section h2 {
        text-align: center;
        font-size: 2.5rem;
        margin-bottom: 3rem;
        color: #2c3e50;
        animation: slideInUp 0.8s ease-out;
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
      }

      .feature-card {
        background: #fff;
        padding: 2rem;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.181);
        transition: all 0.3s ease;
        transform: translateY(20px);
        opacity: 0;
        animation: slideInUp 0.8s ease-out forwards;
        animation-delay: var(--delay);
      }

      .feature-card p {
        color: #1a1a1a;
      }

      .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
      }

      .feature-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        animation: float 3s ease-in-out infinite;
      }

      .feature-card h3 {
        color: #17911d;
        margin-bottom: 1rem;
        font-size: 1.5rem;
      }

      /* Tailor Section */
      .tailor-section {
        padding: 4rem 2rem;
        background: white;
      }

      .tailor-section h2 {
        margin-bottom: 3rem;
        font-size: 2.5rem;
        text-align: center;
        color: #2c3e50;
        animation: slideInUp 0.8s ease-out;
      }

      .tailor-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
      }

      .tailor-card {
        background: white;
        border-radius: 20px;
        padding: 1.5rem;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.08);
        text-align: center;
        transition: all 0.4s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
        border: 2px solid transparent;
        transform: translateY(30px);
        opacity: 0;
        animation: slideInUp 0.8s ease-out forwards;
        animation-delay: var(--delay);
      }

      .tailor-card:hover {
        transform: translateY(-15px);
        box-shadow: 0 25px 50px rgba(23, 145, 29, 0.15);
      }

      .tailor-card img {
        width: 100%;
        height: 250px;
        object-fit: cover;
        border-radius: 15px;
        margin-bottom: 1rem;
        transition: all 0.5s ease;
      }

      .tailor-card img:hover {
        transform: scale(1.05);
      }

      .tailor-card h3 {
        margin: 1rem 0 0.5rem;
        color: #2c3e50;
        font-size: 1.3rem;
      }

      .tailor-card .location {
        color: #666;
        font-size: 0.95rem;
        margin-bottom: 0.5rem;
        font-weight: 500;
      }

      .tailor-card .services {
        font-size: 1rem;
        margin-bottom: 1.5rem;
        color: #555;
      }

      /* Testimonials */
      .testimonials-section {
        padding: 80px 5%;
        background-color: #f9f9f9;
        text-align: center;
      }

      .testimonials-section h2 {
        font-family: "Poppins", sans-serif;
        font-size: 2.5rem;
        color: #17911d;
        margin-bottom: 50px;
      }

      .testimonial-slider-container {
        max-width: 900px;
        margin: 0 auto;
        overflow: hidden;
        position: relative;
        border-radius: 15px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        background-color: #fff;
      }

      .testimonial-slider {
        display: flex;
        transition: transform 0.5s ease-in-out;
      }

      .testimonial-card {
        flex-shrink: 0;
        width: 100%;
        padding: 40px;
        box-sizing: border-box;
        text-align: center;
      }

      .testimonial-card img {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 20px;
        border: 3px solid #17911d;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
      }

      .testimonial-card p.quote {
        font-size: 1.15rem;
        font-style: italic;
        color: #333;
        margin-bottom: 25px;
        line-height: 1.8;
      }

      .testimonial-card p.author {
        font-weight: 600;
        color: #17911d;
        font-size: 1rem;
      }

      .testimonial-card p.role {
        font-size: 0.9rem;
        color: #777;
        margin-top: 5px;
      }

      .slider-nav-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0, 0, 0, 0.5);
        color: white;
        border: none;
        padding: 10px 15px;
        font-size: 1.5rem;
        cursor: pointer;
        z-index: 10;
        border-radius: 8px;
        transition: background-color 0.3s;
      }

      .prev-slide {
        left: 10px;
      }

      .next-slide {
        right: 10px;
      }

      @media (max-width: 768px) {
        .testimonials-section {
          padding: 60px 4%;
        }
        .testimonials-section h2 {
          font-size: 2rem;
          margin-bottom: 30px;
        }
        .testimonial-card {
          padding: 30px 20px;
        }
        .testimonial-card img {
          width: 70px;
          height: 70px;
        }
        .testimonial-card p.quote {
          font-size: 1rem;
        }
        .slider-nav-btn {
          padding: 8px 12px;
          font-size: 1.2rem;
        }
      }

      @media (max-width: 480px) {
        .testimonials-section {
          padding: 40px 3%;
        }
        .testimonials-section h2 {
          font-size: 1.8rem;
        }
        .testimonial-card {
          padding: 20px 15px;
        }
      }

      /* CTA Section */
      .cta-section {
        padding: 4rem 2rem;
        background: linear-gradient(
          45deg,
          #87d0e9 0%,
          #93a2e4 50%,
          #c6dbfe 100%
        );
        text-align: center;
        animation: slideInUp 0.8s ease-out;
      }

      .cta-section h2 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        color: #2c3e50;
      }

      .cta-section p {
        font-size: 1.2rem;
        margin-bottom: 2rem;
        color: #555;
      }

      .cta-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
      }

      /* Footer */
      .footer {
        background: linear-gradient(135deg, #2c3e50 0%, #17911d 100%);
        color: white;
        padding: 3rem 2rem 1rem;
        animation: fadeIn 1s ease-out;
      }

      .footer-content {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
      }

      .footer-brand h3 {
        font-size: 1.8rem;
        margin-bottom: 1rem;
        background: linear-gradient(45deg, #fff, #a8e6cf);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .footer-content h4 {
        margin-bottom: 1rem;
        color: #a8e6cf;
      }

      .footer-content ul {
        list-style: none;
        padding: 0;
      }

      .footer-content ul li {
        margin-bottom: 0.5rem;
      }

      .footer-content ul li a {
        color: white;
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .footer-content ul li a:hover {
        color: #a8e6cf;
      }

      .footer-bottom {
        text-align: center;
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        font-size: 0.9rem;
      }

      /* Dark Mode */
      body.dark-mode {
        background: linear-gradient(135deg, #1a1a1a 0%, #2d3748 100%);
        color: #e2e8f0;
      }

      .dark-mode .navbar {
        background: rgba(26, 26, 26, 0.95);
      }

      .dark-mode .btn {
        background: #1a1a1a;
        color: white;
      }

      .dark-mode .btn:hover {
        background: #17911d;
        color: white;
      }

      .dark-mode h2,
      .dark-mode h3,
      .dark-mode h4,
      .dark-mode p {
        color: #ffffff;
      }

      .dark-mode .stats-section,
      .dark-mode .tailor-section {
        background: #2d3748;
      }

      .dark-mode .features-section {
        background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
      }

      .dark-mode .tailor-card,
      .dark-mode .feature-card,
      .dark-mode .stat-card {
        background: #1a202c;
        color: #e2e8f0;
      }

      .dark-mode .cta-section {
        background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
        color: #e2e8f0;
      }

      .dark-mode .cta-buttons a {
        background: #ffffff;
        color: #17911d;
      }

      .dark-mode .cta-buttons a:hover {
        background: #17911d;
        color: white;
      }

      .dark-mode .footer {
        background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
        color: #e2e8f0;
      }

      /* Animation delays */
      .stat-card:nth-child(1) {
        --delay: 0.1s;
      }
      .stat-card:nth-child(2) {
        --delay: 0.2s;
      }
      .stat-card:nth-child(3) {
        --delay: 0.3s;
      }
      .stat-card:nth-child(4) {
        --delay: 0.4s;
      }

      .feature-card:nth-child(1) {
        --delay: 0.1s;
      }
      .feature-card:nth-child(2) {
        --delay: 0.2s;
      }
      .feature-card:nth-child(3) {
        --delay: 0.3s;
      }

      .tailor-card:nth-child(1) {
        --delay: 0.1s;
      }
      .tailor-card:nth-child(2) {
        --delay: 0.2s;
      }
      .tailor-card:nth-child(3) {
        --delay: 0.3s;
      }
    </style>
  </head>
  <body>
    <header class="navbar">
      <a href="index.html" class="logo-main">
        <div class="logo">
          Tailor<span class="logo-span" style="color: #0e6bf7">Link🔗</span>
        </div>
      </a>

      <nav class="main-nav" id="main-nav" aria-label="Main navigation">
        <button
          aria-label="Toggle navigation"
          class="hamburger"
          aria-expanded="false"
        >
          <span></span><span></span><span></span>
        </button>

        <div class="nav-links-container" id="nav-links-container">
          <div class="nav-links" id="authenticated-nav" style="display: none">
            <span class="welcome-user" id="welcome-message"
              >Welcome there 👋, User!</span
            >
            <a href="index.html" class="nav-home">Home</a>
            <a href="about.html" class="nav-about">About</a>
            <a href="customer-bookings.html" class="nav-bookings"
              >View My Bookings</a
            >
            <a href="explore.html" class="nav-view">View Tailors</a>
            <button id="logout-btn" class="btn btn-small">Logout</button>
            <button
              id="toggleDarkMode"
              class="btn btn-small"
              aria-label="Toggle dark mode"
            >
              🌓
            </button>
          </div>

          <div class="nav-links" id="visitor-links">
            <a href="index.html" class="nav-home">Home</a>
            <a href="about.html" class="nav-about">About</a>
            <a href="explore.html" class="nav-view">View Tailors</a>
            <a href="login.html" class="btn btn-small">Login</a>
            <a href="signup.html" class="btn btn-small">Sign Up</a>
            <button
              id="toggleDarkMode"
              class="btn btn-small"
              aria-label="Toggle dark mode"
            >
              🌓
            </button>
          </div>
        </div>
      </nav>
    </header>

    <section class="hero">
      <div class="hero-text">
        <h1>Find Trusted Tailors Near You</h1>
        <p>
          Book fittings, custom wears, and more—fast & easy with professional
          tailors in your area.
        </p>
        <div class="cta-buttons">
          <a
            href="explore.html"
            class="btn"
            style="background: #ffffff; color: #17911d"
            >Browse Tailors</a
          >
          <a href="login.html" class="btn">Sign Up Now</a>
        </div>
      </div>
    </section>

    <!-- stats, features, tailors, testimonials, CTA, footer (same as your original) -->

    <section class="stats-section">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">500+</div>
          <div class="stat-label">Verified Tailors</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">10k+</div>
          <div class="stat-label">Happy Customers</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">25+</div>
          <div class="stat-label">Cities Covered</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">98%</div>
          <div class="stat-label">Satisfaction Rate</div>
        </div>
      </div>
    </section>

    <section id="features-section" class="features-section">
      <h2>Why Choose TailorLink🔗?</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">🔍</div>
          <h3>Easy Search</h3>
          <p>
            Find qualified tailors in your area with our advanced search
            filters. Browse by location, specialty, and ratings.
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">⭐</div>
          <h3>Verified Professionals</h3>
          <p>
            All our tailors are verified and rated by real customers. Quality
            and reliability guaranteed.
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">📱</div>
          <h3>Instant Booking</h3>
          <p>
            Book appointments instantly with real-time availability. No more
            phone calls or waiting.
          </p>
        </div>
      </div>
    </section>

    <section class="tailor-section" id="tailor">
      <h2>Featured Tailors</h2>
      <div class="tailor-grid">
        <div class="tailor-card">
          <img
            src="img/beautiful-curly-brunette-dark-skinned-fashion-designer-poses-office-leans-table.jpg"
            alt="Tailor A"
          />
          <h3>Grace Couture</h3>
          <p class="location">📍 Lagos, Nigeria</p>
          <p class="services">Custom gowns, Bridal fittings, alterations</p>
          <a href="explore.html" class="btn">View Profile</a>
        </div>
        <div class="tailor-card">
          <img
            src="img/medium-shot-man-repairing-fashion-goods (1).jpg"
            alt="Tailor B"
          />
          <h3>Daniel Threads</h3>
          <p class="location">📍 Abuja, Nigeria</p>
          <p class="services">Native wears, Agbada, Trouser fitting</p>
          <a href="explore.html" class="btn">View Profile</a>
        </div>
        <div class="tailor-card">
          <img
            src="img/medium-shot-black-woman-running-small-business.jpg"
            alt="Tailor C"
          />
          <h3>Sophie's Stitch</h3>
          <p class="location">📍 Ibadan, Nigeria</p>
          <p class="services">Kidswear, casuals, repairs</p>
          <a href="explore.html" class="btn">View Profile</a>
        </div>
      </div>
    </section>

    <section class="testimonials-section">
      <h2>What Our Customers Say</h2>
      <div class="testimonial-slider-container">
        <div class="testimonial-slider" id="testimonialSlider">
          <!-- testimonial cards (same as original) -->
          <div class="testimonial-card">
            <img src="data:image/png;base64,..." alt="Customer 1" />
            <p class="quote">
              "TailorLink has revolutionized how I get my clothes fitted.
              Finding a skilled tailor nearby used to be a hassle, but now it's
              just a few clicks away. The quality is consistently excellent!"
            </p>
            <p class="author">Jane Doe</p>
            <p class="role">Fashion Enthusiast</p>
          </div>
          <div class="testimonial-card">
            <img src="data:image/png;base64,..." alt="Customer 2" />
            <p class="quote">
              "As a busy professional, I appreciate the convenience TailorLink
              offers. Booking appointments is super easy, and my tailor always
              delivers on time. Highly recommend their services!"
            </p>
            <p class="author">John Smith</p>
            <p class="role">Project Manager</p>
          </div>
          <div class="testimonial-card">
            <img src="data:image/png;base64,..." alt="Customer 3" />
            <p class="quote">
              "I needed an urgent alteration for an event, and TailorLink came
              to the rescue! Found a local tailor instantly who did an amazing
              job. The platform is user-friendly and truly a game-changer."
            </p>
            <p class="author">Sarah Johnson</p>
            <p class="role">Event Planner</p>
          </div>
        </div>
        <button class="slider-nav-btn prev-slide">&#10094;</button>
        <button class="slider-nav-btn next-slide">&#10095;</button>
      </div>
    </section>

    <section class="cta-section">
      <h2>Ready to Get Started?</h2>
      <p>
        Join thousands of satisfied customers who found their perfect tailor
        through TailorLink🔗
      </p>
      <div class="cta-buttons">
        <a href="explore.html" class="btn">Browse Tailors</a>
        <a href="login.html" class="btn">Sign Up Now</a>
      </div>
    </section>

    <footer class="footer">
      <div class="footer-content">
        <div class="footer-brand">
          <h3>TailorLink🔗</h3>
          <p>
            Connecting you with trusted tailors – fast, easy, and local. Your
            perfect fit is just a click away.
          </p>
        </div>
        <div class="footer-links">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="explore.html">Find Tailors</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="booking.html">Book Now</a></li>
          </ul>
        </div>
        <div class="footer-contact">
          <h4>Contact</h4>
          <p>Website by Atitebi Oluwasemilore</p>
          <p>Email: semioreatitebi@gmail.com</p>
          <p>Phone: +234 912 0236 106</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 TailorLink🔗. All rights reserved.</p>
      </div>
    </footer>

    <script>
      // Firebase init
      const firebaseConfig = {
        apiKey: "AIzaSyBVjsT4eVkdZaWaYfkgz_hoK00ZgmLWNR4",
        authDomain: "tailorlink-571d5.firebaseapp.com",
        projectId: "tailorlink-571d5",
        storageBucket: "tailorlink-571d5.appspot.com",
        messagingSenderId: "367154563836",
        appId: "1:367154563836:web:14e41712a32c2865955684",
      };
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const db = firebase.firestore();

      // Elements
      const authenticatedNav = document.getElementById("authenticated-nav");
      const visitorNavLinks = document.getElementById("visitor-links");
      const welcomeMessage = document.getElementById("welcome-message");
      const logoutBtn = document.getElementById("logout-btn");
      const hamburger = document.querySelector(".hamburger");
      const navLinksContainer = document.getElementById("nav-links-container");
      const heroCtaButtons = document.querySelector(".hero .cta-buttons");
      const toggleDarkModeBtn = document.getElementById("toggleDarkMode");

      // Hamburger scoped for visitor
      const visitorHamburger = document.querySelector(
        "#visitor-nav .hamburger"
      );
      visitorHamburger?.addEventListener("click", () => {
        visitorNavLinks?.classList.toggle("show");
      });

      visitorHamburger?.addEventListener("click", () => {
        visitorNavLinks?.classList.toggle("show");
      });

      // Function to fetch user's first name from Firestore
      async function fetchUserName(user) {
        if (user && user.uid) {
          try {
            const userDoc = await db.collection("users").doc(user.uid).get();
            if (userDoc.exists) {
              const userData = userDoc.data();
              return userData.firstName || "User";
            }
          } catch (error) {
            console.error("Error fetching user data:", error);
          }
        }
        return "User";
      }

      // Auth state listener with flicker prevention
      auth.onAuthStateChanged(async (user) => {
        if (user) {
          authenticatedNav.style.display = "flex";
          visitorNav.style.display = "none";
          authenticatedNav.classList.add("show-nav");
          visitorNav.classList.remove("show-nav");

          try {
            const docRef = db.collection("users").doc(user.uid);
            const docSnap = await docRef.get();
            let name = "User";
            if (docSnap.exists && docSnap.data()?.username) {
              name = docSnap.data().username;
            } else if (user.displayName) {
              name = user.displayName;
            } else if (user.email) {
              name = user.email;
            }
            welcomeMessage.textContent = formatWelcome(name);
          } catch (error) {
            console.error("Error fetching user data:", error);
            const fallback = user.displayName || user.email || "User";
            welcomeMessage.textContent = formatWelcome(fallback);
          }
        } else {
          authenticatedNav.style.display = "none";
          visitorNav.style.display = "flex";
          authenticatedNav.classList.remove("show-nav");
          visitorNav.classList.add("show-nav");
        }
      });

      // Function to handle logout
      const handleLogout = async () => {
        try {
          await auth.signOut();
          window.location.href = "index.html";
        } catch (error) {
          console.error("Logout failed:", error);
        }
      };

      // Function to handle the hamburger menu toggle
      function toggleMobileMenu() {
        const isExpanded = hamburger.getAttribute("aria-expanded") === "true";
        hamburger.setAttribute("aria-expanded", String(!isExpanded));
        navLinksContainer?.classList.toggle("show");
      }

      // Function to close mobile menu
      function closeMobileMenu() {
        if (navLinksContainer && navLinksContainer.classList.contains("show")) {
          navLinksContainer.classList.remove("show");
        }
        if (hamburger) {
          hamburger.setAttribute("aria-expanded", "false");
        }
      }

      // Mobile menu toggle listener
      hamburger?.addEventListener("click", toggleMobileMenu);

      // Close menu when clicking outside
      document.addEventListener("click", (e) => {
        if (
          !hamburger?.contains(e.target) &&
          !navLinksContainer?.contains(e.target)
        ) {
          closeMobileMenu();
        }
      });

      // Close menu on escape key
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          closeMobileMenu();
        }
      });

      // Auto-collapse when resizing above breakpoint
      window.addEventListener("resize", () => {
        if (window.innerWidth > 1200) {
          closeMobileMenu();
        }
      });

      // Dark mode functionality
      function enableDarkMode() {
        document.body.classList.add("dark-mode");
        localStorage.setItem("darkMode", "enabled");
      }

      function disableDarkMode() {
        document.body.classList.remove("dark-mode");
        localStorage.setItem("darkMode", "disabled");
      }

      function toggleDarkMode() {
        if (document.body.classList.contains("dark-mode")) {
          disableDarkMode();
        } else {
          enableDarkMode();
        }
      }

      // Check for saved dark mode preference on page load
      if (localStorage.getItem("darkMode") === "enabled") {
        enableDarkMode();
      }

      // Attach dark mode toggle listener
      toggleDarkModeBtn?.addEventListener("click", toggleDarkMode);

      // Auth state listener
      auth.onAuthStateChanged(async (user) => {
        // Ensure menu is closed on state change
        closeMobileMenu();

        if (user) {
          // Logged-in state
          authenticatedNav.style.display = "flex";
          visitorNavLinks.style.display = "none";

          // Fetch and display user's first name
          const userName = await fetchUserName(user);
          document.getElementById(
            "welcome-message"
          ).textContent = `Welcome there 👋, ${userName}!`;

          welcomeMessage.textContent = `Welcome there 👋, ${userName}!`;

          // Update hero CTA for logged-in users
          if (heroCtaButtons) {
            heroCtaButtons.innerHTML = `
        <a href="explore.html" class="btn" style="background: #ffffff; color: #17911d;">Browse Tailors</a>
        <a href="customer-bookings.html" class="btn">View My Bookings</a>
      `;
          }

          // Attach logout listener
          logoutBtn?.addEventListener("click", handleLogout);
        } else {
          // Logged-out state (visitor)
          authenticatedNav.style.display = "none";
          visitorNavLinks.style.display = "flex";

          // Reset hero CTA for visitors
          if (heroCtaButtons) {
            heroCtaButtons.innerHTML = `
        <a href="explore.html" class="btn" style="background: #ffffff; color: #17911d;">Browse Tailors</a>
        <a href="signup.html" class="btn">Sign Up Now</a>
      `;
          }
        }
      });

      // Testimonial slider
      document.addEventListener("DOMContentLoaded", () => {
        let slideIndex = 0;
        const testimonialSlider = document.getElementById("testimonialSlider");
        const testimonialCards = document.querySelectorAll(".testimonial-card");
        const totalSlides = testimonialCards.length;
        const prevButton = document.querySelector(".prev-slide");
        const nextButton = document.querySelector(".next-slide");
        let autoSlideInterval = null;

        function showSlide(index) {
          if (!testimonialSlider || testimonialCards.length === 0) return;
          if (index >= totalSlides) slideIndex = 0;
          else if (index < 0) slideIndex = totalSlides - 1;
          else slideIndex = index;
          testimonialSlider.style.transform = `translateX(-${
            slideIndex * 100
          }%)`;
        }

        function moveSlide(n) {
          showSlide(slideIndex + n);
        }

        function startAutoSlide() {
          clearInterval(autoSlideInterval);
          autoSlideInterval = setInterval(() => moveSlide(1), 5000);
        }

        function pauseAutoSlide() {
          clearInterval(autoSlideInterval);
        }

        if (testimonialSlider && totalSlides > 0) {
          showSlide(slideIndex);
          startAutoSlide();
          const sliderContainer = testimonialSlider.parentElement;
          sliderContainer?.addEventListener("mouseover", pauseAutoSlide);
          sliderContainer?.addEventListener("mouseleave", startAutoSlide);
          prevButton?.addEventListener("click", () => moveSlide(-1));
          nextButton?.addEventListener("click", () => moveSlide(1));
        }
      });
    </script>
  </body>
</html>
